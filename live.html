<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cristo Te Llama DE/NJ - Live</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
</head>
<body>

<div class="toggles">
  <div id="darkModeToggle">ğŸŒ“</div>
  <div id="langToggle">ğŸŒ</div>
</div>

<nav>
  <img src="logo.png" alt="Cristo Te Llama Logo" class="logo">
  <a href="index.html#home" data-en="Home" data-es="Inicio">Home</a>
  <a href="index.html#services" data-en="Service Times" data-es="Servicios">Service Times</a>
  <a href="index.html#events" data-en="Events" data-es="Eventos">Events</a>
  <a href="index.html#contact" data-en="Contact" data-es="Contacto">Contact</a>
  <a href="index.html#social" data-en="Social" data-es="Social">Social</a>
  <a href="live.html" data-en="Live" data-es="En Vivo">Live</a>
</nav>

<section class="hero">
  <h1 data-en="Live Stream" data-es="TransmisiÃ³n En Vivo">Live Stream</h1>
  <p data-en="Watch our live broadcast from YouTube right here."
     data-es="Mira nuestra transmisiÃ³n en vivo de YouTube aquÃ­.">
     Watch our live broadcast from YouTube right here.
  </p>
</section>

<section id="liveStream">
  <div id="youtubeLive"></div>
  <p id="status">Checking live status...</p>
</section>

<section id="calendarSection">
  <h2 data-en="Events Calendar" data-es="Calendario de Eventos">Events Calendar</h2>
  <div class="calendar-wrapper">
    <div class="calendar-header">
      <button class="arrow-btn" onclick="prevMonth()">&#8592;</button>
      <h3 id="monthTitle"></h3>
      <button class="arrow-btn" onclick="nextMonth()">&#8594;</button>
    </div>
    <div class="calendar-grid" id="calendarGrid"></div>
  </div>
</section>

<div class="popup" id="popup">
  <div class="popup-content">
    <span class="close" onclick="closePopup()">&times;</span>
    <p id="popupText"></p>
  </div>
</div>

<script src="main.js"></script>
<script>
  // YouTube live stream integration
  const YOUTUBE_API_KEY = "AIzaSyDNJgtFtzPlFIhHnY9JcrA2ZDlkwkLCzOU"; // your key
  const CHANNEL_ID = "YOUR_YOUTUBE_CHANNEL_ID"; // replace with your channel ID

  async function checkYouTubeLive() {
    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&eventType=live&type=video&key=${YOUTUBE_API_KEY}`);
    const data = await res.json();
    const liveDiv = document.getElementById("youtubeLive");
    if (data.items && data.items.length > 0) {
      const videoId = data.items[0].id.videoId;
      liveDiv.innerHTML = `<iframe width="100%" height="500" src="https://www.youtube.com/embed/${videoId}?autoplay=1" frameborder="0" allowfullscreen></iframe>`;
      document.getElementById("status").innerText = "We are live now!";
    } else {
      liveDiv.innerHTML = "";
      document.getElementById("status").innerText = "Currently not live.";
    }
  }

  checkYouTubeLive();
  setInterval(checkYouTubeLive, 60000); // check every 60 sec
</script>

</body>
</html>

